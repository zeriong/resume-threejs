<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1000"/>
    <title>Zeriong Portfolio</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body id="portfolio">
<header id="headerSection">
    <h1 class="title">Zeriong Portfolio</h1>
    <nav id="mainNavbar">
        <button id="videoButton" class="active">프로젝트 데모</button>
        <button id="detailButton">프로젝트 상세보기</button>
        <button id="resumeButton">3D 웹 포트폴리오 바로가기</button>
    </nav>
</header>
<main>
    <section id="demoSection">

        <!-- 배달 라이더앱 클론 코딩 -->
        <div class="container is-first">
            <div class="project-header">
                <h1 class="project-title">배달 라이더 앱 클론 코딩 (Android)
                    <span>[ 개인 학습 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://github.com/zeriong/react-native-deliveryApp" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>

            <p class="desc">React-Native를 사용한 앱 개발에 대한 이해도를 목적으로, 강의를 통해 배달 라이더앱을 클론 코딩하며 학습한 결과물입니다.
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/eibTcbzWgi4"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> React-Native, Firebase-Messaging, patch-package, codePush</p>
        </div>

        <!-- threeJS resume -->
        <div class="container">
            <div class="project-header">
                <h1 class="project-title">ThreeJS Resume
                    <span>[ 개인 프로젝트 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://resume.zeriong.com/" target="_blank" class="demo">
                        Demo
                        <i class="arrow-right"></i>
                    </a>
                    <a href="https://github.com/zeriong/resume-threejs" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>

            <p class="desc">동적이고 상호작용 가능한 3D 공간에서 “나”에 대해 재미있게 표현하고 전달하고자 만들게 된<br/> 프로젝트입니다.</p>
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/bRNdbKabyk0"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> ThreeJS, Webpack, Firebase, SCSS, VanillaJS</p>
        </div>

        <!-- zete -->
        <div class="container">
            <div class="project-header">
                <h1 class="project-title">ZETE AI 메모서비스
                    <span>[ 개인 프로젝트 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://zete.zeriong.com/?type=demo&modal=sign-in" target="_blank" class="demo">
                        Demo
                        <i class="arrow-right"></i>
                    </a>
                    <a href="https://github.com/zeriong/zete-zustand-reactQuery" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>
            <p class="desc">
                사용성을 극대화 하여 편리한 메모 기능과, Chat GPT 를 연동하여 검색 결과를 메모에 요약 반영 시킬 수 있는
                서비스입니다.
            </p>
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/NfrrxLI1JGI"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen
            ></iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> TypeScript, NestJS, TypeORM, JWT, Swagger, MariaDB,
                React, Openapi Generator, Tailwind CSS, ReactQuery, Zustand, Ubuntu Linux, PM2</p>
        </div>

        <!-- 유튜브 요약 서비스 -->
        <div class="container">
            <div class="project-header">
                <h1 class="project-title">유튜브 요약 서비스
                    <span>[ 팀 프로젝트 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://side.zeriong.com/" target="_blank" class="demo">
                        Demo
                        <i class="arrow-right"></i>
                    </a>
                    <a href="https://github.com/zeriong/side-project" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>
            <p class="desc">
                유튜브 영상의 내용을 텍스트로 요약해 주는 서비스를 개발하는 6인 규모의 팀프로젝트에 참여하여 서비스 영역의
                프론트엔드 개발을 담당하였고 PL의 동의하에 본인이 개발한 파트만 분리하여 게재하였습니다.
            </p>
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/Pl0GsMhUO0A"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> NextJS, React, Firebase, Redux Toolkit, Tailwind CSS</p>
            <p class="stacks sub"><span style="font-weight: 600;">협업 툴:</span> Google Meet, Google Chat, Google Docs, Notion, Figma, Zeplin</p>
        </div>

        <!-- React-NestJS-Boilerplate -->
        <div class="container">
            <div class="project-header">
                <h1 class="project-title">React-NestJS-Boilerplate
                    <span>[ 개인 프로젝트 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://github.com/zeriong/react-nestjs-swagger-codegen" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>
            <p class="desc">
                NestJS를 활용해 백엔드 개발을 경험하고 기본적인 CRUD 구현을 통해 서비스의 기본 구조를 개발한 <br/>
                프로젝트입니다. Swagger를 통한 문서화와 openapi-generator를 통한 프론트 타입 동기화로 생산성<br/> 향상의 경험이 있습니다.
            </p>
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/lca1M73QcCk"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> TypeScript, NestJS, TypeORM, JWT, MariaDB,
                React, Redux Toolkit, Tailwind CSS, Swagger, Openapi Generator</p>
        </div>

        <!-- layout gallery -->
        <div class="container is-last">
            <div class="project-header">
                <h1 class="project-title">레이아웃 갤러리
                    <span>[ 개인 프로젝트 ]</span>
                </h1>
                <div class="button-section">
                    <a href="https://layout-gallery-beryl.vercel.app/" target="_blank" class="demo">
                        Demo
                        <i class="arrow-right"></i>
                    </a>
                    <a href="https://github.com/zeriong/layout-gallery" target="_blank" class="git">
                        Github
                        <i class="arrow-right"></i>
                    </a>
                </div>
            </div>
            <p class="desc">
                레이아웃, UI 개발 역량 향상과 Figma, Zeplin을 경험하기 위해 UX CRUSH에서 제공하는 무료 디자인<br/> 시안대로 개발한 페이지가 모인 갤러리형식의 프로젝트입니다.
            </p>
            <iframe
                    width="100%" height="470"
                    src="https://www.youtube.com/embed/Lnk_EYVjD80"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
            <p class="stacks"><span style="font-weight: 600;">사용된 기술 스택:</span> TypeScript, React, Redux Toolkit, Tailwind CSS</p>
        </div>
    </section>

    <section id="detailSection">
        <nav id="portfolioNavbar">
            <div class="inner">
                <button id="toProjects" class="active">
                    Projects
                    <div></div>
                </button>
                <button id="toLearning">
                    Learning
                    <div></div>
                </button>
            </div>
        </nav>
        <iframe id="projectsIframe" src="projects.html">
        </iframe>
    </section>
</main>
<script>
    const demoBtn = document.getElementById('videoButton');
    const detailBtn = document.getElementById('detailButton');
    const tabBtnList = [demoBtn, detailBtn];

    const detailSection = document.getElementById('detailSection');
    const demoSection = document.getElementById('demoSection');

    tabBtnList.map(dom => {
        dom.addEventListener('click', (e) => {
            removeActive();
            dom.classList.add('active');
            if (e.target.id === 'videoButton') {
                demoSection.style.display = 'flex';
                detailSection.style.display = 'none';
            } else {
                demoSection.style.display = 'none';
                detailSection.style.display = 'block';
            }
        });
    });

    const threeResumeBtn = document.getElementById('resumeButton');

    threeResumeBtn.addEventListener('click', () => {
        window.open('https://resume.zeriong.com/','_blank');
    });

    // 버튼 섹션 연결
    const navbarLinks = document.querySelectorAll('#portfolioNavbar button');
    const iframe = document.getElementById('projectsIframe');

    let learningTopPosition;
    let clicked = false;
    let scrollTimeout = null;

    // 클릭 이벤트 등록
    navbarLinks.forEach(link => clickNavSection(link));

    // 부모 페이지에서 메시지 수신 리스너
    window.addEventListener('message', (event) => {
        const msg = event.data; // 높이 값 수신
        if (msg.startsWith('height:')) {
            // projects 로드 시 높이 계산하며 navbar 삭제
            const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
            const navbar = innerDoc.getElementById('navbar');

            // iframe 로드시 기존 navbar 삭제
            if (navbar.style.display !== 'none') {
                navbar.style.display = 'none';
                innerDoc.getElementById('projects').style.paddingTop = '0';
            }
            // learning position을 할당
            const learningOffsetTop = innerDoc.getElementById('learning').offsetTop;
            if (learningOffsetTop) {
                const headerOffsetHeight = document.getElementById('headerSection').offsetHeight;
                const navbarOffsetHeight = document.getElementById('portfolioNavbar').offsetHeight;
                learningTopPosition =  learningOffsetTop + headerOffsetHeight + navbarOffsetHeight;
            }

            const height = msg.split('height:')[1];
            if (height && height > 0) {
                document.getElementById('projectsIframe').style.height = height + 'px'; // iframe 높이 조정
            }
        }
        //console.log('메시지 수신: ', msg)
    }, false);

    // projects navbar 스크롤 이벤트
    window.addEventListener('scroll', scrollNavSection);


    // navbarLinks elements의 적용할 이벤트 등록 함수
    function clickNavSection(link) {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const innerDoc = iframe.contentDocument || iframe.contentWindow.document; // iframe 문서 객체

            if (e.target.id === 'toLearning') {
                // 클래스 핸들
                handleNavSection('toLearning');
                // 지정된 위치로 이동
                const targetElement = innerDoc.getElementById('learning'); // 자식 요소 ID
                if(targetElement) {
                    clickScrollMove(learningTopPosition); // 클릭 스크롤 이동 함수
                }
            } else if (e.target.id === 'toProjects') {
                // 클래스 핸들
                handleNavSection('toProjects');
                // 지정된 위치로 이동
                const targetElement = innerDoc.getElementById('toProjects'); // 자식 요소 ID
                if(targetElement) {
                    const position = targetElement.offsetTop; // 자식 요소의 상단 위치
                    clickScrollMove(position); // 클릭 스크롤 이동 함수
                }
            }
        });
    }
    // projects navbar active 클래스 핸들
    function handleNavSection(category) {
        navbarLinks.forEach(el => {
            const id = el.id
            if (category === 'toLearning') {
                if (id === 'toLearning') el.classList.add('active');
                if (id === 'toProjects') el.classList.remove('active');
            } else if (category === "toProjects") {
                if (id === 'toProjects') el.classList.add('active');
                if (id === 'toLearning') el.classList.remove('active');
            }
        });
    }
    // 스크롤 섹션 영역 체크 함수
    function scrollNavSection() {
        // timeout을 재귀적으로 호출하여 클릭 이동 시 스크롤링 체크
        if (clicked) {
            if (scrollTimeout !== null) {
                clearTimeout(scrollTimeout);
                scrollTimeout = null;
            }
            scrollTimeout = setTimeout(() => {
                clicked = false;
            }, 50);
            return;
        }
        // active 클래스 변경
        if (window.scrollY < learningTopPosition) handleNavSection('toProjects');
        else if (window.scrollY >= learningTopPosition) handleNavSection('toLearning');
    }
    // active 클래스 삭제 함수
    function removeActive() {
        tabBtnList.map(el => el.classList.remove("active"));
    }
    // 스크롤 이동 함수
    function clickScrollMove(position) {
        clicked = true;
        window.scrollTo({
            top: position,
            behavior: 'smooth'
        });
    }
</script>
</body>
</html>